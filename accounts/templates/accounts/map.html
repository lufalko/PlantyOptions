{% extends 'accounts/main.html' %}
{% load static %}

{% block content %}

<body>

 <div id="mapid" style="width:100%; height:800px"></div>

 <div class="marker">
  {% for r in object_list %}
        <p> {{r.lat_lang}}</p>
  {% endfor %}
 </div>



<script>
  var mymap = L.map('mapid').setView([48.35, 10.89779], 13);

	L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
		maxZoom: 18,
		id: 'mapbox/streets-v11',
		tileSize: 512,
		zoomOffset: -1
	}).addTo(mymap);

	var marker = L.marker([48.3820324, 10.872883]).addTo(mymap);
	marker.bindPopup("<b>Anne's Gourmetküche</b><br>Sallingerstraße 6").openPopup()


  /*  {% for r in object_list %}
        L.marker({{r.lat_lng}}).addTo(mymap).bindPopup('{{r}}');
    {% endfor %}
    */

    let myList = document.getElementsByClassName('marker');
    let myList2 = myList[0].getElementsByTagName('p');

    console.log(myList2);

 for(let i = 0; i < myList2.length; i++){
    console.log(myList2[i]);
 // L.marker({{i.lat_lng}}).addTo(mymap).bindPopup('{{r}}');
 }


/* anne:plantyIcon
	var myIcon = L.icon({
        iconUrl: "PO_Icon_Green_Fill.png",
        iconSize: [38, 95],
        iconAnchor: [22, 94],
        popupAnchor: [-3, -76]
	});

    L.marker([48.35, 10.89779], {icon: myIcon}).addTo(mymap);
 */

</script>


 </body>

{% endblock %}

